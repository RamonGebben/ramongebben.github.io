<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Daily updates about Javascript News, libraries and Weekly challenges">
    <meta name="keywords" content="Javascript News, React, ES2015, Daily, Updates, Weekly Challenges">
    <meta name="theme-color" content="#39424D">
    <title>Daily Javascript
    </title>
    <link rel="alternate" href="http://daily-javascript.com/feed.xml" type="application/rss+xml" title="For your daily dose of Javascript libraries.">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <div class="social"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//Daily-Javascript.com" target="_blank" class="social-btn facebook"></a><a href="https://twitter.com/home?status=Follow%20%40DailyJavascript%20for%20update%20of%20new%20Javascript%20libraries%20and%20challanges%0A%23Javascript" target="_blank" class="social-btn twitter"></a><a href="https://www.reddit.com/submit?url=http%3A//Daily-Javascript.com" target="_blank" class="social-btn reddit"></a><a href="https://plus.google.com/share?url=http%3A//Daily-Javascript.com" target="_blank" class="social-btn google"></a></div>
    <header class="header">
      <div class="content-wrap">
        <div class="logo">
          <h1><a href="http://daily-javascript.com">Daily Javascript</a></h1>
          <p class="description">For your daily dose of Javascript libraries.</p>
          <p class="description">Do you have a library you want mentioned? <a href="mailto:daily-javascript@ra-ge.net" class="mailto">Send it in!</a></p>
          <div class="follow">
            <h3>Follow Daily Javascript</h3>
            <div class="follow-item"><a href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Fdaily-javascript.com%2Fatom.xml" target="_blank"><span>via Feedly</span></a></div>
            <div class="follow-item"><a href="http://twitter.com/DailyJavascript" target="_blank"><span>via Twitter</span></a></div>
            <div class="follow-item"><a href="http://eepurl.com/bAAxM9" target="_blank"><span>via E-Mail</span></a></div>
            <div class="follow-item"><a href="http://daily-javascript.com/atom.xml" target="_blank"><span>via RSS</span></a></div>
          </div>
        </div>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article intro">
          <header>
            <p class="date"><span>16. August 2016</span></p>
            <h2><a href="/articles/fast-memoize/">Fast Memoize</a></h2>
          </header>
          <section class="content"><p>fast-memoize (GitHub: <a href="https://github.com/caiogondim/fast-memoize.js">caiogondim/fast-memoize.js</a>, License: <span class="caps">ISC</span>, npm:&nbsp;fast-memoize)</p>
<p>First of all let me start of with informing you about why there hasn’t being a new post for several weeks now.
To be completely honest with you guys, I just got very lazy.
I’ve just bought my first house with the fiancée. Which of course needed to be fixed up, we needed to restore damage to the previous house and we actually needed to do the move. Besides all of that I also started at a new client which took some more time to get used to. But hey those are all excuses and you don’t really care about that. You just wanna see code. So now that I’m back and integrated into all the new environments around me I’m ready to start updating you again. So enough chit chat let’s look at <code>fast-memoize.js</code>.</p>
<p>According to Wikipedia: “In computing, memoization is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.&nbsp;“.</p>
<p>This library is an attempt to make the fastest possible memoization library in JavaScript that supports any arguments. This is not the first attempt on doing that. There have being multiple attempts but as the developer points out those attempts are not fast enough and have limitation on number of arguments which can be&nbsp;passed.</p>
<p><img src="https://camo.githubusercontent.com/296969d6a36da6df8b79ed4fe4f50f9d5b528cd6/687474703a2f2f7261776769742e636f6d2f6361696f676f6e64696d2f666173742d6d656d6f697a652f6d61737465722f696d672f62656e63686d61726b2d63686172742e706e67" alt="benchmarks"></p>
<p>The reason why Lodash comes out on top on these benchmarks is because they limit the number of arguments you can pass, thus gaining&nbsp;performance.</p>
<p>When you want to memoize a function you can do so by creating it like&nbsp;this:</p>
<pre><code class="lang-javascript"><span class="keyword">const</span> memoize = <span class="built_in">require</span>(<span class="string">'fast-memoize'</span>)
<span class="keyword">const</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params">one, two, three</span>) </span>{
  <span class="comment">// Awesome magical code in here</span>
}

<span class="keyword">const</span> memoized = memoize(fn);

memoized(<span class="string">'foo'</span>, <span class="number">3</span>, <span class="string">'bar'</span>);
<span class="comment">// Call it again</span>
memoized(<span class="string">'foo'</span>, <span class="number">3</span>, <span class="string">'bar'</span>); <span class="comment">// Cache hit</span>
</code></pre>
<p>The library takes a look at the environment it in running on and selects the quickest cache to work with.
If you want to implement your own cache make sure it has the following&nbsp;methods:</p>
<ul>
<li><code>get</code></li>
<li><code>set</code></li>
<li><code>has</code></li>
<li><code>delete</code></li>
</ul>
<p>The support is also very good for details about that you should consult the <a href="https://github.com/caiogondim/fast-memoize.js/"><span class="caps">README</span></a>.</p>
<p>If you have any interest in helping me make Daily-JavaScript.com better, don’t hesitate to <a href="mailto:daily-javascript@ra-ge.net">contact me with your ideas</a>.</p>

          </section>
        </article>
        <article class="article intro">
          <header>
            <p class="date"><span>09. May 2016</span></p>
            <h2><a href="/articles/peerjs/">PeerJS</a></h2>
          </header>
          <section class="content"><p>PeerJS (GitHub: <a href="https://github.com/peers/peerjs">peers/peerjs</a>, License: <span class="caps">MIT</span>, npm:&nbsp;peerjs)</p>
<p>Last week I was held up in bed with a fever, this is the reason I was not able to provide you with daily javascript updates.
Exactly for moments like that I would like to request if one of my readers would be interested in occasionally writing a post, so I can slow down&nbsp;sometimes.</p>
<p>If you are interested please <a href="mailto:daily-javascript@ra-ge.net">contact me</a>.</p>
<p>On to business, PeerJS wraps the browser’s WebRTC implementation to provide a easy-to-use peer-to-peer connection <span class="caps">API</span>.
To establish a connection you will need nothing more than a session ID.
This is of course not the first attempt on a good WebRTC library but this comes with an open source server which you can deploy any place you want, in contrast with other parties that’s a real leap&nbsp;forwards.</p>
<p>Because this is still a company trying to make money they also have hosted solutions for when you do not want to be bothered with setting up these&nbsp;environments.</p>
<p>Let’s look at an example using the hosted&nbsp;solution.</p>
<pre><code class="lang-javascript"><span class="keyword">import</span> Peer <span class="keyword">from</span> <span class="string">'peerjs'</span>;

<span class="keyword">const</span> myPeer = <span class="keyword">new</span> Peer(<span class="string">'pick-an-id'</span>, {key: <span class="string">'myapikey'</span>});
<span class="keyword">const</span> conn = myPeer.connect(<span class="string">'another-peers-id'</span>);

conn.on(<span class="string">'open'</span>, () =&gt; {
  conn.send(<span class="string">'hi!'</span>);
});

myPeer.on(<span class="string">'connection'</span>, (conn) =&gt; {
  conn.on(<span class="string">'data'</span>, (data) =&gt; {
    <span class="comment">// Will print 'hi!'</span>
    <span class="built_in">console</span>.log(data);
  });
});
</code></pre>
<p>The code for making a call would look something like&nbsp;this:</p>
<pre><code class="lang-javascript"><span class="keyword">const</span> getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

getUserMedia({video: <span class="literal">true</span>, audio: <span class="literal">true</span>}, (stream) =&gt; {
  <span class="keyword">const</span> call = peer.call(<span class="string">'another-peers-id'</span>, stream);
  call.on(<span class="string">'stream'</span>, (remoteStream) =&gt; {
    <span class="comment">// Show stream in some video/canvas element.</span>
  });
}, (err) =&gt; {
  <span class="built_in">console</span>.log(<span class="string">'Failed to get local stream'</span>, err);
});
</code></pre>
<p>And to answer an incoming call you would need to add something like&nbsp;this:</p>
<pre><code class="lang-javascript"><span class="keyword">const</span> getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
peer.on(<span class="string">'call'</span>, (call) =&gt; {
  getUserMedia({ video: <span class="literal">true</span>, audio: <span class="literal">true</span> }, (stream) =&gt; {
    call.answer(stream); <span class="comment">// Answer the call with an A/V stream.</span>
    call.on(<span class="string">'stream'</span>, (remoteStream) =&gt; {
      <span class="comment">// Show stream in some video/canvas element.</span>
    });
  }, (err) =&gt; {
    <span class="built_in">console</span>.log(<span class="string">'Failed to get local stream'</span>, err);
  });
});
</code></pre>

          </section>
        </article>
        <article class="article intro">
          <header>
            <p class="date"><span>20. April 2016</span></p>
            <h2><a href="/articles/redux-mock-store/">redux-mock-store</a></h2>
          </header>
          <section class="content"><p>redux-mock-store (GitHub: <a href="https://github.com/arnaudbenard/redux-mock-store">arnaudbenard/redux-mock-store</a>, License: <span class="caps">MIT</span>, npm:&nbsp;redux-mock-store)</p>
<p>When you are working on an application with a Redux architecture and you want to test if your actions triggered correctly.
Doing this with the default Redux store is a very hard thing. In the project I recently joined we solve this problem by using <code>redux-mock-store</code>, which stores the actions that got triggered. By suppling a <code>getActions()</code> method we can access the previously called actions in the form of an&nbsp;Array.</p>
<p>By&nbsp;example:</p>
<pre><code class="lang-javascript"><span class="keyword">import</span> configureMockStore <span class="keyword">from</span> <span class="string">'redux-mock-store'</span>;
<span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span>;

<span class="keyword">const</span> middlewares = [thunk];
<span class="keyword">const</span> mockStore = configureMockStore(middlewares);

it(<span class="string">'should dispatch action'</span>, () =&gt; {
  <span class="keyword">const</span> getState = {};
  <span class="keyword">const</span> addTodo = { type: <span class="string">'ADD_TODO'</span> };

  <span class="keyword">const</span> store = mockStore(getState);
  store.dispatch(addTodo);

  <span class="keyword">const</span> actions = store.getActions();

  expect(actions).toEqual([addTodo]);
});

it(<span class="string">'should execute promise'</span>, () =&gt; {
    <span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params"></span>) </span>{
      <span class="keyword">return</span> {
        type: <span class="string">'FETCH_DATA_SUCCESS'</span>
      };
    }

    <span class="function"><span class="keyword">function</span> <span class="title">fetchData</span>(<span class="params"></span>) </span>{
      <span class="keyword">return</span> dispatch =&gt; {
        <span class="keyword">return</span> fetch(<span class="string">'/users.json'</span>)
          .then(() =&gt; dispatch(success()));
      };
    }

    <span class="keyword">const</span> store = mockStore({});

    <span class="keyword">return</span> store.dispatch(fetchData())
      .then(() =&gt; {
        expect(store.getActions()[<span class="number">0</span>]).toEqual(success())
      });
})
</code></pre>
<p>In the <a href="http://redux.js.org/docs/recipes/WritingTests.html">Redux docs</a> you can find a more extensive explanation and best best practices on how to approach this&nbsp;problem.</p>

          </section>
        </article>
        <article class="article intro">
          <header>
            <p class="date"><span>18. April 2016</span></p>
            <h2><a href="/articles/react-tabguard/">Tabguard</a></h2>
          </header>
          <section class="content"><p>react-tabguard (GitHub: <a href="https://github.com/avocode/react-tabguard">avocode/react-tabguard</a>, License: <span class="caps">MIT</span>, npm:&nbsp;react-tabguard)</p>
<p>A problem all of face at some point in our career is: A product owner who comes to you with the question to contain the <code>Tab</code> navigation to only one form. Something like this for&nbsp;instance:</p>
<p><img src="https://camo.githubusercontent.com/ecb3f6b835e6a084175f5e8d119d0b719a9b43a8/68747470733a2f2f636c6475702e636f6d2f543961377062536754412e676966" style="max-width: 480px; width: 100%;"></p>
<p>There isn’t really an easy way to limit tabbing to a specified area inside your <span class="caps">HMTL</span> document.
It’s not desirable to lose focus on the overlay window when tabbing.
Luckily the some developer saw this and started working on React TabGuard to save the&nbsp;day.</p>
<p>Since there is not really an extensive <span class="caps">API</span> to discuss I will just give you with an example of how to use&nbsp;is:</p>
<pre><code class="lang-javascript"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;
<span class="keyword">import</span> TabGuard <span class="keyword">from</span> <span class="string">'react-tabguard'</span>;

<span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params">props</span>) </span>{
  <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">className</span>=<span class="value">"double-form-container"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">className</span>=<span class="value">"left"</span>&gt;</span>
      <span class="tag">&lt;<span class="title">TabGuard</span>&gt;</span>
        <span class="tag">&lt;<span class="title">h1</span>&gt;</span>Form A<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">placeholder</span>=<span class="value">"Name"</span>/&gt;</span>
        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"number"</span> <span class="attribute">placeholder</span>=<span class="value">"Age"</span>/&gt;</span>
        <span class="tag">&lt;<span class="title">button</span>&gt;</span>Send<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">TabGuard</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">className</span>=<span class="value">"right"</span>&gt;</span>
      <span class="tag">&lt;<span class="title">TabGuard</span>&gt;</span>
        <span class="tag">&lt;<span class="title">h1</span>&gt;</span>Form B<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">placeholder</span>=<span class="value">"Name"</span>/&gt;</span>
        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"number"</span> <span class="attribute">placeholder</span>=<span class="value">"Age"</span>/&gt;</span>
        <span class="tag">&lt;<span class="title">button</span>&gt;</span>Send<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">TabGuard</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>    
  <span class="tag">&lt;/<span class="title">div</span>&gt;</span>)</span>;
}
</code></pre>

          </section>
        </article>
        <article class="article intro">
          <header>
            <p class="date"><span>13. April 2016</span></p>
            <h2><a href="/articles/animated/">Animated</a></h2>
          </header>
          <section class="content"><p>Animated (GitHub: <a href="https://github.com/animatedjs/animated">animatedjs/animated</a>, License: <span class="caps">MIT</span>, npm:&nbsp;animated)</p>
<p>Animations have always being weak point React. After recognizing this problem, the community has put in a lot of effort to solve this problem.
Tools like React Velocity, TransitionGroup etc emerged. But non of them are quit as flexible as the Animated library.
Animated embraces the declarative aspect of React and obtains performance by using raw <span class="caps">DOM</span> manipulation behind the scenes instead of the usual&nbsp;diff.</p>
<p>The developer has posted some <a href="http://animatedjs.github.io/interactive-docs/">really nice interactive documentation</a> which I recommend you give a look. As a quick example I will show you how the most complete example would&nbsp;work:</p>
<pre><code class="lang-javascript"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;

<span class="class"><span class="keyword">class</span> <span class="title">MyAnimatedComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>{

  constructor(props) {
    <span class="keyword">super</span>(props);
    <span class="keyword">this</span>.props = props;
    <span class="keyword">this</span>.state = {
      anim: <span class="keyword">new</span> Animated.Value(<span class="number">0</span>),
    }
  }

  handleClick(delta) {
    <span class="keyword">this</span>.state.anim.stopAnimation(value =&gt; {
      Animated.spring(<span class="keyword">this</span>.state.anim, {
        toValue: <span class="built_in">Math</span>.round(value) + delta
      }).start();
    });
  }  

  render() {
    <span class="keyword">return</span> (
      <span class="xml"><span class="tag">&lt;<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;<span class="title">button</span> <span class="attribute">onClick</span>=<span class="value">{()</span> =&gt;</span> this.handleClick(-1)}&gt;&amp;lt;<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
        <span class="tag">&lt;<span class="title">Animated.div</span>
          <span class="attribute">style</span>=<span class="value">{{</span>
            <span class="attribute">transform:</span> [
              {<span class="attribute">rotate:</span> <span class="attribute">this.state.anim.interpolate</span>({
                <span class="attribute">inputRange:</span> [<span class="attribute">0</span>, <span class="attribute">4</span>],
                <span class="attribute">outputRange:</span> ['<span class="attribute">0deg</span>', '<span class="attribute">360deg</span>']
              })},
            ],
            <span class="attribute">position:</span> '<span class="attribute">relative</span>'
          }}
          <span class="attribute">className</span>=<span class="value">"circle"</span>
        /&gt;</span>
        <span class="tag">&lt;<span class="title">button</span> <span class="attribute">onClick</span>=<span class="value">{()</span> =&gt;</span> this.handleClick.bind(this, +1)}&gt;&amp;gt;<span class="tag">&lt;/<span class="title">button</span>&gt;</span>
      <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    )</span>;
  }
}
</code></pre>

          </section>
        </article>
      </div>
    </div>
    <footer>
      <script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-68072930-1', 'auto');ga('send', 'pageview');</script>
      <div class="content-wrap">
        <div class="nav"><a href="/archive.html">« Archives</a><a href="/page/2/">Next page »</a>
        </div>
        <section class="about">
        </section>
        <section class="copy">
          <p>&copy; 2016 Ramon Gebben &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>