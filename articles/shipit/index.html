<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Daily updates about Javascript News, libraries and Weekly challenges">
    <meta name="keywords" content="Javascript News, React, ES2015, Daily, Updates, Weekly Challenges">
    <meta name="theme-color" content="#39424D">
    <title>Shipit - Daily Javascript
    </title>
    <link rel="alternate" href="http://daily-javascript.com/feed.xml" type="application/rss+xml" title="For your daily dose of Javascript libraries.">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <div class="social"><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//Daily-Javascript.com" target="_blank" class="social-btn facebook"></a><a href="https://twitter.com/home?status=Follow%20%40DailyJavascript%20for%20update%20of%20new%20Javascript%20libraries%20and%20challanges%0A%23Javascript" target="_blank" class="social-btn twitter"></a><a href="https://www.reddit.com/submit?url=http%3A//Daily-Javascript.com" target="_blank" class="social-btn reddit"></a><a href="https://plus.google.com/share?url=http%3A//Daily-Javascript.com" target="_blank" class="social-btn google"></a></div>
    <header class="header">
      <div class="content-wrap">
        <h1>Shipit</h1>
        <p class="author">Written by <span class="author"><a href="mailto:ramon@ra-ge.net">Ramon Gebben</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>Shipit (GitHub: <a href="https://github.com/shipitjs/shipit">shipitjs/shipit</a>, License: <span class="caps">MIT</span>, npm:&nbsp;shipit)</p>
<p>Shipit is an automation engine and a deployment tool written for&nbsp;Node.</p>
<p>Shipit is an alternative for <a href="http://capistranorb.com/">Capistrano</a>. If you are not familiar Capistrano, it is a remote server automation and deployment tool written in Ruby.
Since Capistrano was written in Ruby, you needed to be comfortable working in Ruby and be familiar with the tooling that comes with it.
Nowadays we are using Javascript for everything. Web servers, build tooling, bot’s you can even control a drone using Javascript.
So it makes sense to do deployment in Javascript as&nbsp;well.</p>
<p>Shipit’s task structure is very similar to that of <a href="http://gulpjs.com/">Gulp</a>. Since they are both based on <a href="https://github.com/orchestrator/orchestrator">orchestrator</a>.</p>
<p>Besides the main <span class="caps">API</span> for handling remote work, there is also a dedicated deploy package based on git and rsync commands.
With which you can deploy tag, branch or commit. Add additional behavior using hooks, build your project locally or remotely and you can do easy&nbsp;rollback.</p>
<p>A simple <code>shipitfile.js</code> would look something like&nbsp;this:</p>
<pre><code class="lang-javascript"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">shipit</span>) </span>{
  <span class="built_in">require</span>(<span class="string">'shipit-deploy'</span>)(shipit);

  shipit.initConfig({
    <span class="keyword">default</span>: {
      workspace: <span class="string">'/tmp/github-monitor'</span>,
      deployTo: <span class="string">'/tmp/deploy_to'</span>,
      repositoryUrl: <span class="string">'https://github.com/user/repo.git'</span>,
      ignores: [<span class="string">'.git'</span>, <span class="string">'node_modules'</span>],
      rsync: [<span class="string">'--del'</span>],
      keepReleases: <span class="number">2</span>,
      key: <span class="string">'/path/to/key'</span>,
      shallowClone: <span class="literal">true</span>
    },
    staging: {
      servers: <span class="string">'user@myserver.com'</span>
    }
  });
};
</code></pre>
<p>The <span class="caps">CLI</span> structure works like: <code>shipit &lt;environment&gt; &lt;tasks ...&gt;</code>.
So with a <code>shipitfile.js</code> like&nbsp;this:</p>
<pre><code class="lang-bash">shipit staging deploy
</code></pre>
</section>
          <div id="disqus_thread"></div>
          <script>
            (function() { var d = document, s = d.createElement('script'); s.src = '//daily-javascript.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })();
            
          </script>
        </article>
      </div>
    </div>
    <footer>
      <script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-68072930-1', 'auto');ga('send', 'pageview');</script>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Full blog</a></div>
        <section class="about">
        </section>
        <section class="copy">
          <p>&copy; 2016 Ramon Gebben &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>