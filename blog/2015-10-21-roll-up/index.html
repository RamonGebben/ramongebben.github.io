<html lang="en"><head><title>Rollup.js / Daily Javascript</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"><meta name="description" content="

### Rollup.js

Rollup.js (GitHub: rollup/rollup, License: MIT, npm: rollup)

Rollup is a next-geneâ€¦"><meta name="keywords" content="Javascript, React, ES2015, Daily, Updates"><link rel="icon" type="image/png" href="../../assets/img/favicon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="../../assets/main.css"></head><body><div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog">Archive</a></div><div class="logo nav__link"></div></nav></div><main role="main"><div class="grid"><div class="post"><div class="post__content"><h1 class="post__heading">Rollup.js</h1><div><h3 id="rollup-js">Rollup.js</h3>
<p>Rollup.js (GitHub: <a href="https://github.com/rollup/rollup">rollup/rollup</a>, License: MIT, npm: rollup)</p>
<p>Rollup is a next-generation Javascript module bundler. Build your app or library using ES2015 modules, then efficiently bundle them up into a single file for use in browsers and Node.js.
This is not an unfamiliar concept to the most of us. What makes Rollup stand out is that fact that it&apos;s using only the functionality that you import.</p>
<p>Normally you would do something like this:</p>
<pre><code class="lang-javascript"><span class="token keyword">var</span> util <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;util&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
util<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">&apos;http://some-api.com/?q=DailyJavascript&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> handleData <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>What this does is include the entire module <code>util</code> but we only use the <code>ajax</code> method. This will increase the total size of our app.
Now there is ES2015 module loading which allows us to include only the functions we need like this:</p>
<pre><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ajax <span class="token punctuation">}</span> from <span class="token string">&apos;util&apos;</span><span class="token punctuation">;</span>
<span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">&apos;http://some-api.com/?q=DailyJavascript&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> handleData <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>When we build the second example, with for instance Browserify, what would happen is that the entire module would still get loaded. Kinda beats the point of using <code>import</code> right?
Luckily there is Rollup to the rescue which will only build that what you need.</p>
<p>For the moment it only provides a command line interface which you can acquire via:</p>
<pre><code class="lang-bash">npm i rollup <span class="token operator">-</span>g
</code></pre>
<p>The usage is pretty straight forward.</p>
<pre><code class="lang-bash"><span class="token comment" spellcheck="true"># create a self-executing bundle...
</span>rollup <span class="token operator">--</span><span class="token function">format</span> iife <span class="token operator">--</span> src<span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">&gt;</span> build<span class="token operator">/</span>app<span class="token punctuation">.</span>js

<span class="token comment" spellcheck="true"># ...with inline sourcemaps:
</span>rollup <span class="token operator">-</span>f iife <span class="token operator">--</span>sourcemap inline <span class="token operator">--</span> src<span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">&gt;</span> build<span class="token operator">/</span>app<span class="token punctuation">.</span>js

<span class="token comment" spellcheck="true"># create a bundle with dependencies on jQuery and Angular,
</span><span class="token comment" spellcheck="true"># with a sourcemap in a separate file
</span>rollup <span class="token operator">-</span>f iife <span class="token operator">--</span>globals jquery<span class="token punctuation">:</span>jQuery<span class="token punctuation">,</span>angular<span class="token punctuation">:</span>ng \
  <span class="token operator">-</span>i src<span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">-</span>o build<span class="token operator">/</span>app<span class="token punctuation">.</span>js <span class="token operator">-</span>m build<span class="token operator">/</span>app<span class="token punctuation">.</span>js<span class="token punctuation">.</span>map
</code></pre>
<p>For more commands check out the <code>--help</code>.</p>
<p>Alternatively, you could use rollup command from an npm run script cntext, you can install it as a devDependency using:</p>
<pre><code class="lang-bash">npm i rollup <span class="token operator">-</span>D
</code></pre>
</div><time datetime="2015-10-21" class="post__moment">21 Oct 2015</time><div class="post__author">Authored by Ramon Gebben</div></div></div></div></main><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-68072930-1', 'auto');ga('send', 'pageview');</script></div></body></html>