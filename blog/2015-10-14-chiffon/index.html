<html lang="en"><head><title>Chiffon / Daily Javascript</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui"><meta name="description" content="

### Chiffon

Chiffon (GitHub: polygonplanet/Chiffon, License: MIT, npm: chiffon, bower: chiffon)

â€¦"><meta name="keywords" content="Javascript, React, ES2015, Daily, Updates"><link rel="icon" type="image/png" href="../../assets/img/favicon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="../../assets/main.css"></head><body><div><div class="nav__wrapper"><input type="checkbox" class="nav__toggle" id="nav__toggle"><label class="nav__toggle-label" for="nav__toggle"></label><nav class="nav"><div class="nav__link"><a href="/">Home</a></div><div class="nav__link"><a href="/blog">Archive</a></div><div class="logo nav__link"></div></nav></div><main role="main"><div class="grid"><div class="post"><div class="post__content"><h1 class="post__heading">Chiffon</h1><div><h3 id="chiffon">Chiffon</h3>
<p>Chiffon (GitHub: <a href="https://github.com/trueadm/Chiffon">polygonplanet/Chiffon</a>, License: MIT, npm: chiffon, bower: chiffon)</p>
<p>Chiffon is a very small ECMAScript parser, tokenizer and minifier.
Sometimes we come across an idea where you will need to parse or tokenize Javascript files for, for instance to do analysis on the code.</p>
<p>When using Chiffon for tokenizing you will get an Array of each &quot;element&quot; of the input code like this:</p>
<pre><code class="lang-javascript"><span class="token keyword">let</span> tokens <span class="token operator">=</span> Chiffon<span class="token punctuation">.</span><span class="token function">tokenize</span><span class="token punctuation">(</span><span class="token string">&apos;var a = 1&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Which would then return:</p>
<pre><code class="lang-javascript"><span class="token punctuation">[</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;Keyword&apos;</span><span class="token punctuation">,</span>    value<span class="token punctuation">:</span> <span class="token string">&apos;var&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;Identifier&apos;</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">&apos;a&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;Punctuator&apos;</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">&apos;=&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;Numeric&apos;</span><span class="token punctuation">,</span>    value<span class="token punctuation">:</span> <span class="token string">&apos;1&apos;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>
</code></pre>
<p>Here is a list of all possible tokens:</p>
<ul>
<li>Comment</li>
<li>LineTerminator</li>
<li>Template</li>
<li>String</li>
<li>Punctuator</li>
<li>RegularExpression</li>
<li>Numeric</li>
<li>UnicodeEscapeSequence</li>
<li>Identifier</li>
<li>Null</li>
<li>Boolean</li>
<li>Keyword</li>
</ul>
<p>Sadly JavaScript AST is not currently supported.</p>
<p>When you wish to &quot;untokenize&quot; the Array, you can pass it into the <code>untokenize</code> method like this:</p>
<pre><code class="lang-javascript">Chiffon<span class="token punctuation">.</span>untokenize
</code></pre>
<p>When you want to use the minification, you would do something like this:</p>
<pre><code class="lang-javascript">Chiffon<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>&apos;<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// comment&apos;);</span>
</code></pre>
<p>Which is a simple implementation of <code>untokenize</code> and <code>tokenize</code> together like this:</p>
<pre><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">minify</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">untokenize</span><span class="token punctuation">(</span><span class="token function">tokenize</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> <span class="token punctuation">{</span> lineTerminator<span class="token punctuation">:</span> <span class="token keyword">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
</div><time datetime="2015-10-14" class="post__moment">14 Oct 2015</time><div class="post__author">Authored by Ramon Gebben</div></div></div></div></main><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-68072930-1', 'auto');ga('send', 'pageview');</script></div></body></html>